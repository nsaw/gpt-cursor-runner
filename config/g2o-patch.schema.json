{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "properties": {
    "patch": {
      "type": "object",
      "required": ["id", "kind"],
      "properties": {
        "id": {
          "type": "string",
          "pattern": "^patch-v[0-9]+\\.[0-9]+\\.[0-9]+[a-z]?\\(P[0-9]+\\.[0-9]+\\.[0-9]+\\)_[a-zA-Z0-9_-]+$"
        },
        "kind": {
          "type": "string",
          "enum": ["operational_smoke", "feature", "bugfix", "refactor", "test"]
        },
        "preflight": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "execution": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "validation": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "options": {
          "type": "object",
          "properties": {
            "dryRun": {
              "type": "boolean",
              "default": false
            },
            "timeoutMs": {
              "type": "number",
              "minimum": 1000,
              "maximum": 60000,
              "default": 10000
            }
          },
          "additionalProperties": false
        }
      },
      "additionalProperties": false
    }
  },
  "required": ["patch"],
  "additionalProperties": false
}
