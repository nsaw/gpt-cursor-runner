#!/bin/bash

# Update environment files with correct values
# This script updates all .env files with the correct endpoint URLs and secrets

echo "Updating environment files..."

# Main .env file
cat > /Users/sawyer/gitSync/gpt-cursor-runner/.env << 'EOF'
NGROK_AUTH_TOKEN=2zEtqtpB4YaTdpQfpLf5cZunb8Y_2rstF1BT2zfiUeom5WqWc
PUBLIC_RUNNER_URL=https://gpt-cursor-runner.thoughtmarks.app
CURSOR_ENDPOINT_DEV=https://gpt-cursor-runner.thoughtmarks.app/api/status
CURSOR_ENDPOINT_PROD=https://gpt-cursor-runner.thoughtmarks.app/api/status
NODE_ENV=production
ENV=production

SLACK_CLIENT_ID=9175632787408.9142323012087
SLACK_CLIENT_SECRET=0b34092432ad01fa305028966b9fa422
SLACK_SIGNING_SECRET=aaaed6a9db711589c3d2c17a3495b0f3
SLACK_BOT_TOKEN=xoxe-1-My0xLTkxNzU2MzI3ODc0MDgtOTMxODk5OTI4MDk5Ni05MzE4OTk5MzUxMDc2LTAyNjI3ZTNjNzUxYjg4YTBkMzY0MWIyMGFhZWMzYWFmOGJkMDI4NTE3NGFmMGEzNzUwZDQ0ZTg1MDcxNmYwZjc
SLACK_APP_TOKEN=xapp-1-A0993AM77HC-9356889244288-6da94d8ac049a97055ddebfe4b3d4e213a451301829b625dde90769c9c5950f6
SLACK_ACCESS_TOKEN=xoxe.xoxp-1-Mi0yLTkxNzU2MzI3ODc0MDgtOTE3NTYzMjgxODc1Mi05MTU2ODcyODMwMzg2LTkxNTY4NzI4NDQ2NzQtMGU1ZmRjYWM4YTM5YjIzNDYxMmZkZDRhMTZlZTQ5OTRkNDM5OGY0MTNmZDZiNjUzOTU5NTkzOThmMzM2ODg5ZQ
SLACK_VERIFICATION_TOKEN=PGA4sWTiXBfWqeNCY7LV49Ig
OPENAI_APP_AITOOLS_API_KEY=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
OPENAI_RUNNER_API_KEY=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
OPENAI_CURSOR_API_KEY=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
SLACK_BOT_OAUTH_TOKEN=xoxe-1-My0xLTkxNzU2MzI3ODc0MDgtOTMxODk5OTI4MDk5Ni05MzE4OTk5MzUxMDc2LTAyNjI3ZTNjNzUxYjg4YTBkMzY0MWIyMGFhZWMzYWFmOGJkMDI4NTE3NGFmMGEzNzUwZDQ0ZTg1MDcxNmYwZjc
OPENAI_API_SLACK_PROJ_KEY=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

# Cloudflare Tunnels
# DEV.THOUGHTMARKS.APP
TUNNEL_NAME_DEV=DEV
TUNNEL_ID_DEV=fb32bde9-8444-43e3-9837-dcce9d03ea33
SERVICE_DEV=http://localhost:8785
TUNNEL_TOKEN_DEV=eyJhIjoiZmY0YTUzZTZiYzYyNmVlNTQ4YzI4MGVkZmJiNmFhMTYiLCJ0IjoiYWI1NTVkY2QzjBKMC00MjEzLThNzEtNjNiMGUwZDU5NDYtIiwicyI6Ik1qa3pOVGNAWJTJRdE9URTBOeTAwT0Roa0xUazNoaIF0TVdZNE5tWTNNakJoT0RnMCJ9
CONNECTOR_ID_DEV=fb32bde9-8444-43e3-9837-dcce9d03ea33

# EXPO.THOUGHTMARKS.APP
TUNNEL_NAME_EXPO=EXPO
TUNNEL_ID_EXPO=035f29b6-b135-4c90-80b6-d999d3cf75f5
SERVICE_EXPO=http://localhost:8088
TUNNEL_TOKEN_EXPO=eyJhIjoiZmY0YTUzZTZiYzYyNmVlNTQ4YzI4MGVkZmJiNmFhMTYiLCJ0IjoiMDM1ZjI5YjYjEzNS00YzkwLTgwYTYtZDK5OWQzY2Y3NWYiIiwicyI6IkVTVVNeK5Tm1JdFPxVmtNeTAwTFekXSKlaRV0T1dSaU5qQm1NREEwXlRVMlJ9
CONNECTOR_ID_EXPO=eec631e9-a88b-4ba2-ba93-0de695553742

# GHOST.THOUGHTMARKS.APP
TUNNEL_NAME_GHOST=GHOST
TUNNEL_ID_GHOST=72e1be05-ca7d-4aaf-a4cd-03167cfa0d8d
SERVICE_GHOST=http://localhost:8788
TUNNEL_TOKEN_GHOST=eyJhIjoiZmY0YTUzZTZiYzYyNmVlNTQ4YzI4MGVkZmJiNmFhMTYiLCJ0IjoiNWUxOTRINTETZjMS00MGYxLTkzODUtOWJGRIMzZmMWU5IiwicyI6InhqRGV9aGQ1ZkErb0ZXNHZjcXpza3dkV21sdGd0Z2JDT0hCcXhaSEVac0E9In0
CONNECTOR_ID_GHOST=495041d8-a726-4933-b237-fc10db8d1d75

# GPT-CURSOR-RUNNER.THOUGHTMARKS.APP
TUNNEL_NAME_GPT_CURSOR_RUNNER=GPT-CURSOR-RUNNER
TUNNEL_ID_GPT_CURSOR_RUNNER=b84e36a4-5199-4dfc-ac88-fe5561249a5d
SERVICE_GPT_CURSOR_RUNNER=http://localhost:8787
TUNNEL_TOKEN_GPT_CURSOR_RUNNER=eyJhIjoiZmY0YTUzZTZiYzYyNmVlNTQ4YzI4MGVkZmJiNmFhMTYiLCJ0IjoiNTI1OWIwYjEtOGFkZC00YTVmLTllZWUtYWYzNDU2M2I1Y2Q5IiwicyI6IldpVmVFbjZoM08vempIZHQ5ZFVKc0xFbStvTXp5OXVGUzBpTXc0M3RyMm89In0
CONNECTOR_ID_GPT_CURSOR_RUNNER=c1d1fd64-83c7-4d6d-915b-e547e2246c19

# RUNNER.THOUGHTMARKS.APP
TUNNEL_NAME_RUNNER=RUNNER
TUNNEL_ID_RUNNER=01eadc65-91b2-4b57-b1fe-3c9ff81e9850
SERVICE_RUNNER=http://localhost:8786
TUNNEL_TOKEN_RUNNER=eyJhIjoiZmY0YTUzZTZiYzYyNmVlNTQ4YzI4MGVkZmJiNmFhMTYiLCJ0IjoiMDFiYWQ2NjUtOTFlMi00ZjU3LWIzZmUtM2MwY4MWU5ODUwIiwicyI6IlpUSXpvOVI1V3TWpBdE5tUTNaUzAwTURJd0xUbG1Zak1oWlRabU5GQTFaRFZ5T1RJeS9J
CONNECTOR_ID_RUNNER=e54e4658-3a72-465b-a8bb-ec02146c8c4

# SLACK.THOUGHTMARKS.APP
TUNNEL_NAME_SLACK=SLACK
TUNNEL_ID_SLACK=72e1b005-ca7d-4a0f-a4cd-03167cfa0d8d
SERVICE_SLACK=https://slack.thoughtmarks.app/slack/commands
TUNNEL_TOKEN_SLACK=eyJhIjoiZmY0YTUzZTZiYzYyNmVlNTQ4YzI4MGVkZmJiNmFhMTYiLCJ0IjoiNWUxOTRINTETZjMS00MGYxLTkzODUtOWJGRIMzZmMWU5IiwicyI6InhqRGV9aGQ1ZkErb0ZXNHZjcXpza3dkV21sdGd0Z2JDT0hCcXhaSEVac0E9In0
CONNECTOR_ID_SLACK=360205d1-3272-471b-9f8b-d813db45c84b
EOF

# Update webhook-thoughtmarks.env
cat > /Users/sawyer/gitSync/gpt-cursor-runner/config/webhook-thoughtmarks.env << 'EOF'
# Webhook Thoughtmarks Environment Configuration
WEBHOOK_THOUGHTMARKS_PORT=5432
SLACK_CLIENT_ID=9175632787408.9142323012087
SLACK_CLIENT_SECRET=0b34092432ad01fa305028966b9fa422
SLACK_SIGNING_SECRET=aaaed6a9db711589c3d2c17a3495b0f3
SLACK_BOT_TOKEN=xoxe-1-My0xLTkxNzU2MzI3ODc0MDgtOTMxODk5OTI4MDk5Ni05MzE4OTk5MzUxMDc2LTAyNjI3ZTNjNzUxYjg4YTBkMzY0MWIyMGFhZWMzYWFmOGJkMDI4NTE3NGFmMGEzNzUwZDQ0ZTg1MDcxNmYwZjc
SLACK_APP_TOKEN=xapp-1-A0993AM77HC-9356889244288-6da94d8ac049a97055ddebfe4b3d4e213a451301829b625dde90769c9c5950f6
SLACK_VERIFICATION_TOKEN=PGA4sWTiXBfWqeNCY7LV49Ig
SLACK_INCOMING_WEBHOOK=https://hooks.slack.com/services/T0955JLTKJ4/B0955JLTKJ4/your-webhook-url
EOF

# Update dashboard.env
cat > /Users/sawyer/gitSync/gpt-cursor-runner/config/dashboard.env << 'EOF'
# Dashboard Environment Configuration
DASHBOARD_PORT=5001
PUBLIC_RUNNER_URL=https://gpt-cursor-runner.thoughtmarks.app
CURSOR_ENDPOINT_DEV=https://gpt-cursor-runner.thoughtmarks.app/api/status
CURSOR_ENDPOINT_PROD=https://gpt-cursor-runner.thoughtmarks.app/api/status
EOF

echo "Environment files updated successfully!"
